@startuml
opt 未登録
ユーザー->webサーバー:ユーザー登録
webサーバー->DBサーバー:ユーザー登録
DBサーバー->webサーバー:登録結果

alt 登録OK
webサーバー->ユーザー:登録メッセージを表示
else 登録NG
webサーバー->ユーザー:失敗メッセージを表示

 end
end


ユーザー->webサーバー:ログイン
webサーバー->DBサーバー:ログイン照会
DBサーバー->DBサーバー:ログイン処理
DBサーバー->webサーバー:認証結果

activate ユーザー
alt 認証OK
webサーバー->ユーザー:ユーザー名を表示
else 認証NG
webサーバー->ユーザー:失敗メッセージを表示
end
opt ログイン中
ユーザー->webサーバー:ログアウト
webサーバー->DBサーバー:ログアウト照会
DBサーバー->DBサーバー:ログアウト処理
DBサーバー->webサーバー:ログアウト結果
webサーバー->ユーザー:ログアウト結果
end
ユーザー->webサーバー:結果（商品名）
webサーバー->DBサーバー:検索処理（商品名）
DBサーバー->DBサーバー:検索処理
DBサーバー->webサーバー:検索結果
webサーバー->ユーザー:検索結果

deactivate ユーザー
